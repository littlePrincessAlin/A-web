<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      /* #c {
        width: 400px;
        height: 400px;
        border: 1px solid #ccc;
      } */
      #dogImg {
        display: none;
      }
    </style>
  </head>
  <body>
    <img
      src="http://tva3.sinaimg.cn/large/007qPM5Ngy1g4j4ry60e0j30sg0sh7wh.jpg"
      id="dogImg"
    />
    <canvas
      id="c"
      width="800"
      height="800"
      style="border: 1px solid #ccc"
    ></canvas>
    <script>
      // 2、获取 canvas 对象
      const cnv = document.getElementById('c');
      // 3、获取 canvas 上下文环境对象
      const cxt = cnv.getContext('2d');

      /*
        // 适配各个机型像素： 解决1px绘制成2px问题
        const dpr = window.devicePixelRatio || 1;
        const logicalWidth = cnv.width;
        const logicalHeight = cnv.height;
        // 获取canvas样式宽高
        cnv.style.width = logicalWidth + 'px';
        cnv.style.height = logicalHeight + 'px';
        // 放大画布
        cnv.width = logicalWidth * dpr;
        cnv.height = logicalHeight * dpr;
        // 像素比缩放
        cxt.scale(dpr, dpr); // 像素比缩放
      */

      // 4、绘制图形
      // cxt.moveTo(50, 100); // 起点坐标 (x, y)
      // cxt.lineTo(200, 50); // 终点坐标 (x, y)
      // cxt.strokeStyle = 'red'; // 颜色
      // cxt.setLineDash([10]); // 接受三个参数：1个参数的时候，实线 空白都是10px
      // cxt.setLineDash([10, 20]); // 接受三个参数：2个参数的时候，实线10px 空白20px
      // cxt.setLineDash([10, 20, 5]); // 接受三个参数：传3个以上的参数，此例：10px实线，20px空白，5px实线，10px空白，20px实线，5px空白 ……
      // cxt.stroke(); // 将起点和终点连接起来

      // 线段样式
      // cxt.beginPath(); // 重新开启一个路径
      // cxt.moveTo(20, 110);
      // cxt.lineTo(200, 110);
      // cxt.lineWidth = 20; // 修改直线的宽度
      // cxt.strokeStyle = 'pink'; // 颜色
      // cxt.lineCap = 'round'; // 默认: butt; 圆形: round; 方形: square
      // cxt.stroke();

      // 如果y轴设置小数点
      // cxt.moveTo(20, 120.5);
      // cxt.lineTo(200, 120.5);
      // cxt.stroke();

      // 折线
      // cxt.moveTo(50, 200);
      // cxt.lineTo(100, 50);
      // cxt.lineTo(200, 200);
      // cxt.lineTo(250, 50);
      // cxt.stroke();

      // 绘制矩形
      // cxt.moveTo(50, 50);
      // cxt.lineTo(200, 50);
      // cxt.lineTo(200, 120);
      // cxt.lineTo(50, 120);
      // cxt.lineTo(50, 50); // 需要闭合，又或者使用 closePath() 方法进行闭合，推荐使用 closePath()
      // cxt.stroke();

      // 描边矩形
      // cxt.strokeStyle = 'pink';
      // cxt.strokeRect(50, 50, 200, 100);

      // 填充矩形
      // cxt.fillStyle = 'pink';
      // cxt.fillRect(50, 50, 200, 100); // fillRect(x, y, width, height)

      // 同时使用描边填充
      // cxt.strokeStyle = 'red';
      // cxt.strokeRect(50, 50, 200, 100); // strokeRect(x, y, width, height)
      // cxt.fillStyle = 'yellow';
      // cxt.fillRect(50, 50, 200, 100); // fillRect(x, y, width, height)

      // rect
      // cxt.strokeStyle = 'red';
      // cxt.fillStyle = 'pink';
      // cxt.rect(50, 50, 200, 100); // rect(x, y, width, height)
      // cxt.stroke();
      // cxt.fill();

      // 清空矩形
      // cxt.fillStyle = 'pink'; // 设置填充颜色
      // cxt.fillRect(50, 50, 200, 200); // 填充矩形
      // cxt.clearRect(60, 60, 180, 90); // 清空矩形

      // 清空画布
      // cxt.clearRect(0, 0, cnv.width, cnv.height);

      // 折线：绘制三角形
      // cxt.moveTo(50, 50);
      // cxt.lineTo(200, 50);
      // cxt.lineTo(200, 200);

      // // 注意点：如果使用 lineTo 闭合图形，是不能很好闭合拐角位的。
      // // cxt.lineTo(50, 50); // 闭合
      // // 手动闭合
      // cxt.closePath();
      // cxt.lineJoin = 'miter'; // 线条连接的样式。miter: 默认; bevel: 斜面; round: 圆角
      // cxt.lineWidth = 20;
      // cxt.lineWidth = 20;
      // cxt.stroke();

      // 绘制菱形
      // cxt.moveTo(150, 50);
      // cxt.lineTo(250, 100);
      // cxt.lineTo(150, 150);
      // cxt.lineTo(50, 100);
      // cxt.closePath();
      // cxt.stroke();

      // 绘制圆形
      // cxt.beginPath();
      // cxt.arc(150, 150, 80, 0, (360 * Math.PI) / 180);
      // cxt.closePath();
      // cxt.stroke();

      // 绘制半圆
      // cxt.beginPath();
      // cxt.arc(150, 150, 100, 0, (180 * Math.PI) / 180); // 顺时针
      // cxt.closePath();
      // cxt.stroke();

      // 弧线
      // cxt.beginPath();
      // cxt.arc(150, 150, 100, 0, (30 * Math.PI) / 180);
      // cxt.stroke();

      // 文本
      // let text = '李琳';
      // cxt.font = '60px Arial'; // 将字号设置成 60px
      // cxt.strokeStyle = 'blue'; // 设置文本描边颜色
      // cxt.fillStyle = 'red';
      // cxt.strokeText(text, 30, 90);
      // cxt.fillText(text, 30, 90);
      // // 获取文本长度
      // console.log(cxt.measureText(text).width); // 120

      // 对齐
      // 竖向的辅助线（参考线，在画布中间）
      // cxt.moveTo(200, 0);
      // cxt.lineTo(200, 400);
      // cxt.strokeStyle = 'red';
      // cxt.stroke();
      // cxt.font = '30px Arial';
      // // 横坐标开始位对齐
      // cxt.textAlign = 'start'; // 默认值,
      // cxt.fillText('lilin start', 200, 40);
      // // 横坐标结束位对齐
      // cxt.textAlign = 'end'; // 结束对齐
      // cxt.fillText('lilin end', 200, 100);
      // // 左对齐
      // cxt.textAlign = 'left'; // 左对齐
      // cxt.fillText('lilin left', 200, 160);
      // // 右对齐
      // cxt.textAlign = 'right'; // 右对齐
      // cxt.fillText('lilin right', 200, 220);
      // // 居中对齐
      // cxt.textAlign = 'center'; // 右对齐
      // cxt.fillText('lilin center', 200, 280);

      // 横向的辅助线（参考线，在画布中间）
      // cxt.moveTo(0, 150);
      // cxt.lineTo(800, 150);
      // cxt.strokeStyle = 'red';
      // cxt.stroke();
      // cxt.font = '20px Arial';
      // // 默认 alphabetic
      // cxt.textBaseline = 'alphabetic';
      // cxt.fillText('lilin alphabetic', 10, 150);
      // // 默认 top
      // cxt.textBaseline = 'top';
      // cxt.fillText('lilin top', 200, 150);
      // // 默认 bottom
      // cxt.textBaseline = 'bottom';
      // cxt.fillText('lilin bottom', 320, 150);
      // // 默认 middle
      // cxt.textBaseline = 'middle';
      // cxt.fillText('lilin middle', 480, 150);
      // // 默认 hanging
      // cxt.textBaseline = 'hanging';
      // cxt.fillText('lilin hanging', 640, 150);

      // 图片（创建）
      // 方法1: DOM获取
      // const image1 = document.getElementById('dogImg');
      // image1.onload = () => {
      //   // 4 使用 drawImage() 方法渲染图片
      //   cxt.drawImage(image1, 0, 0);
      // };

      // 1 创建 Image 对象
      const image = new Image();
      // 2 引入图片
      image.src =
        'http://tva3.sinaimg.cn/large/007qPM5Ngy1g4j4ry60e0j30sg0sh7wh.jpg';
      // 3 等待图片加载完成
      image.onload = () => {
        // 4 使用 drawImage() 方法渲染图片
        // cxt.drawImage(image, 30, 30);
        cxt.drawImage(image, 200, 30, 300, 300); // 设置图片宽高
        // cxt.drawImage(image, 300, 300, 400, 200, 0, 0, 400, 400);
      };
    </script>
  </body>
</html>
